<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<title>Grapheme cluster segmenter</title>
<meta name="description" content="Tool to parse a string into grapheme clusters." />

<link rel="stylesheet" href="../../../shared/style/docs.css" />
<link rel="stylesheet"  href="style.css" />

<script src="../../../shared/code/boilerplate.js"></script>
<!--script src="../../../uniview/functions.js"></script-->
<script src="../../../shared/code/scriptGroups.js"></script>
<script src="../../../shared/code/all-names.js"></script>
<script src="propertylist.js"></script>
<script src="script.js"></script>
</head>

<body class="app">
<header>
<div id="header-boilerplate"></div>
<script>document.getElementById('header-boilerplate').innerHTML = bp_appHeader('../../../shared/images/world.gif','Grapheme cluster segmenter','');</script>
</header>

<dialog id="panel" style="display:none"></dialog>

<div id="start">
<p id="clearInput" onClick="document.getElementById('in').value = '';">Clear all</p>

<textarea id="in" placeholder="Drop text to be analysed here."></textarea>

<div><button id="analyseButton" onclick="document.getElementById('out').innerHTML = addBoundaries(document.getElementById('in').value)">Analyse</button></div>
</div>


<p id="out"></p>









<div id="notes" style=" background-color: bisque; margin-top:4em; padding: 1em; ">

<aside class="sidebar">
  <div class="section">
    <p><a target="_blank" href="../../../uniview/">UniView</a></p>
    <p><a target="_blank" href="https://unicode.org/reports/tr29/">UAX #29 Unicode Text Segmentation</a></p>
    <p><a target="_blank" href="https://www.unicode.org/Public/UCD/latest/ucd/auxiliary/GraphemeBreakProperty.txt">GraphemeBreakProperty-14.0.0.txt</a></p>
    <p><a target="_blank" href="https://icu4c-demos.unicode.org/icu-bin/icusegments">ICU Segments</a></p>
  </div>
</aside>

<p>This tool parses a string and shows extended grapheme cluster boundaries (except for Korean  jamo and emoji character sequences.) Click on 'Show more' for additional information.</p>

<p>Click on the segments to reveal the character names.</p>

<p>Apply a font: <input id="fontChanger" type="text" placeholder="Font name here" onChange="changeFont(this.value)"> <button onclick="changeFont(document.getElementById('fontChanger').value)">Apply</button></p>

<details>
<summary>show more</summary>

<section>
<p>'Grapheme clusters' are an approximation to user perceived graphemes, and the boundaries are established by rules applied to code point sequences according to <a href="https://unicode.org/reports/tr29/">UAX #29</a>. The rules tend to be biased towards producing the units of text needed for cursor positioning. (There is a different set of rules for establishing break opportunities for line-breaking.) Grapheme clusters may also be tailored for particular languages.</p>

<p>To pass a string in the URL, use <code style="white-space: nowrap">?q=&lt;string&gt;</code>.</p>

<p>To indicate in the URL the font you want to use for the display, add <code style="white-space: nowrap">&amp;font=&lt;font_name&gt;</code>.</p>

<p>See also the <a href="https://icu4c-demos.unicode.org/icu-bin/icusegments#2/en__ULI">ICU line-break segmenter</a>.</p>
</section>

<p id="status">Updated 
<!-- #BeginDate format:Sw1 -->3 April, 2022<!-- #EndDate -->
</p>
</details>
</div>

<div class="smallprint"><span id="version">
See <a href="https://github.com/r12a/scripts/apps/listlinebreak/commits/gh-pages">recent changes</a>.
Make a <a href="https://github.com/r12a/scripts/issues/new">comment</a>. 
Licence <a rel="license" href="http://creativecommons.org/licenses/by/4.0/">CC-By</a> Â© <a href="mailto:r12a@w3.org">r12a</a> 
</span>
</div>
  
 <script>
// check for parameters and take appropriate action
parameters = location.search.split('&');
parameters[0] = parameters[0].substring(1);
for (var p=0;p<parameters.length;p++) {  
	pair = parameters[p].split('=');
	if (pair[0] == 'q' && pair[1]) { 
        document.getElementById('in').value = decodeURIComponent(pair[1])
        document.getElementById('out').innerHTML = addBoundaries(decodeURIComponent(pair[1])) 
        }
	if (pair[0] == 'font' && pair[1]) {
        document.getElementById('fontChanger').value = decodeURIComponent(pair[1])
        changeFont( decodeURIComponent(pair[1]) ) 
        }
	}
</script>
</body>
</html>
